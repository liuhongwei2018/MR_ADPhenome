# snakemake -s mr.smk --configfile config0.yaml -j 4 --keep-going
# snakejob -s mr.smk --configfile config/config0.yaml -j 1000 --max-jobs-per-second 1 --keep-going
# snakejob -s mr.smk --configfile config/config0.yaml -j 500 --max-jobs-per-second 1 --keep-going --until manhattan_plot

PROJECT: "test"
RLIB: "renv/library/R-3.6/x86_64-pc-linux-gnu"

REF: 'raw/EUR_All_Chr'
clumpr2: 0.001 ## Default in TwoSample MR
clumpkb: 10000 ## 10 MB, default in TwoSampleMR
Pthreshold: ['5e-8', '5e-6']

# Forbidden wildcard combinations
## Blacklist alcohol consumption onto Kunkle 2019 (LOAD) and Hilbar 2017 (HV) in line with data use aggreements
## Blacklist all other phenotypes onto Lambert 2013 (LOAD) and Hilbar 2015 (HV)
missing: [
   {"Project" : "test", "ExposureCode" : "Beecham2014vbiany", "OutcomeCode" : "Liu2019drnkwk23andMe", "Pthreshold" : "5e-8"},
   {"Project" : "test", "ExposureCode" : "Beecham2014vbiany", "OutcomeCode" : "Liu2019drnkwk23andMe", "Pthreshold" : "5e-6"},
   ]


EXCLUSION:
  -
    NAME: APOE
    NOTE: "Exclude APOE locus, 250kb either side of APOE e4: rs429358 = 19:45411941 (GRCh37.p13)"
    CHROM: 19
    START: 45161941
    STOP: 45661941


OUTCOMES:
  -
    CODE: Liu2019drnkwk23andMe
    NAME: 'Alcohol Consumption'
    FILE: raw/GWAS/Liu2019drnkwk23andMe.chrall.CPRA_b37.tsv.gz
    COLUMNS:
      SNP: DBSNP_ID
      CHROM: CHROM
      POS: POS
      REF: REF
      ALT: ALT
      AF: AF
      BETA: BETA
      SE: SE
      P: P
      Z: Z
      N: N
      TRAIT: TRAIT


EXPOSURES:
  -
    CODE: Lambert2013load
    NAME: LOAD
    FILE: raw/GWAS/Lambert2013load.chrall.CPRA_b37.tsv.gz
    COLUMNS:
      SNP: DBSNP_ID
      CHROM: CHROM
      POS: POS
      REF: REF
      ALT: ALT
      AF: AF
      BETA: BETA
      SE: SE
      P: P
      Z: Z
      N: N
      TRAIT: TRAIT
  -
    CODE: Beecham2014vbiany
    NAME: 'Vascular Brain Injury'
    FILE: raw/GWAS/Beecham2014vbiany.chrall.CPRA_b37.tsv.gz
    COLUMNS:
      SNP: DBSNP_ID
      CHROM: CHROM
      POS: POS
      REF: REF
      ALT: ALT
      AF: AF
      BETA: BETA
      SE: SE
      P: P
      Z: Z
      N: N
      TRAIT: TRAIT
